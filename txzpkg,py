#inspired by [yours](https://github.com/FarAway6834/txzpkg)

from mytempdir import tempdir, cd, ls, mkdir, enterdir, tedir
from myarcopen import open

def txzip(f):
    with tempdir() as dir:
        files = ls()
        with open(f, 'w') as txz:
            for f in files:
                with open(f) as fp:
                    with enterdir(txz.temp, txz.main) as man0:
                        with tedir(f, txz.temp) as man1:
                            fp.extractall()
                        txz.add(f)
